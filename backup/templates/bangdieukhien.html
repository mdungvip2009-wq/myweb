<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,viewport-fit=cover,user-scalable=no" />
<title>Bảng Điều Khiển — BO Helper</title>
<style>
:root{
  --bg:#0b1320; --bg2:#0a1223;
  --card:#0f1f35; --card2:#102645;
  --accent:#2dd4bf; --brand:#34c759; --sell:#ff4d4f;
  --muted:#9aa3ab; --text:#eaf2ff; --text-soft:#cfe0ff;
  --line:#183558; --radius:16px
}
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  background:linear-gradient(180deg,var(--bg),var(--bg2));
  color:var(--text);
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial;
  position: relative;
  overflow-x: hidden;
}

/* Animated 3D background particles */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: 
    radial-gradient(circle at 15% 85%, rgba(45, 212, 191, 0.12) 0%, transparent 50%),
    radial-gradient(circle at 85% 15%, rgba(52, 199, 89, 0.08) 0%, transparent 50%),
    radial-gradient(circle at 50% 50%, rgba(255, 140, 66, 0.06) 0%, transparent 50%),
    radial-gradient(circle at 25% 25%, rgba(255, 77, 79, 0.04) 0%, transparent 50%);
  animation: floatingParticles3D 40s ease-in-out infinite;
  pointer-events: none;
  z-index: 0;
}

@keyframes floatingParticles3D {
  0%, 100% { 
    transform: translateY(0px) translateX(0px) rotate(0deg) scale(1);
    filter: blur(0px);
  }
  25% { 
    transform: translateY(-30px) translateX(15px) rotate(2deg) scale(1.05);
    filter: blur(0.5px);
  }
  50% { 
    transform: translateY(25px) translateX(-20px) rotate(-1.5deg) scale(0.95);
    filter: blur(1px);
  }
  75% { 
    transform: translateY(-15px) translateX(10px) rotate(1deg) scale(1.02);
    filter: blur(0.3px);
  }
}

/* 3D Floating orbs */
body::after {
  content: '';
  position: fixed;
  top: 20%;
  right: 10%;
  width: 200px;
  height: 200px;
  background: radial-gradient(circle at 30% 30%, rgba(45, 212, 191, 0.15), rgba(45, 212, 191, 0.05), transparent);
  border-radius: 50%;
  animation: float3D 20s ease-in-out infinite;
  pointer-events: none;
  z-index: 0;
}

@keyframes float3D {
  0%, 100% { 
    transform: translateY(0px) scale(1) rotateX(0deg);
    opacity: 0.6;
  }
  50% { 
    transform: translateY(-40px) scale(1.1) rotateX(180deg);
    opacity: 0.8;
  }
}
.hidden{display:none!important}
.noscroll{overflow:hidden}

/* ===== HEADER ===== */
.main-header{
  position:fixed; top:0; left:0; right:0; height:56px;
  background:var(--bg); border-bottom:1px solid var(--line);
  display:flex; align-items:center; justify-content:space-between;
  padding:0 14px; z-index:110;
}
.wrap{
  max-width:560px;margin:12px auto 84px;padding:56px 14px 0;position:relative;z-index:1;
  perspective: 1000px;
}
.icon-btn{
  position:relative; width:34px; height:34px; border:none;
  background:#1a2a40; border-radius:10px; cursor:pointer;
  display:flex; flex-direction:column; align-items:center; justify-content:center; gap:4px; padding:6px 0;
}
.icon-btn span{display:block; width:20px; height:2px; background:#fff; border-radius:2px}
.header-user-info{display:flex; align-items:center; gap:12px}
.balance-item{display:flex; align-items:center; gap:8px; background:var(--card); padding:8px 12px; border-radius:12px; border:1px solid var(--line)}
.wallet-icon{width:20px; height:20px; color:var(--muted)}
.balance-value{font-size:14px; font-weight:700; color:var(--text)}
.balance-label{font-size:11px; color:var(--muted); margin-top:-2px}
.user-profile{display:flex; align-items:center}
.avatar{
  width:32px; height:32px; border-radius:50%; overflow:hidden;
  border: 2px solid var(--line); box-sizing: border-box;
}
.avatar img{width:100%; height:100%; object-fit:cover}

/* ===== Sidebar ===== */
.backdrop{position:fixed; inset:0; background:rgba(0,0,0,.45); opacity:0; pointer-events:none; transition:opacity .25s ease; z-index:140}
.backdrop.show{opacity:1; pointer-events:auto}
.sidebar{
  position:fixed; top:0; left:0; height:100dvh; width:84vw; max-width:320px;
  background:#0f1b2b; border-right:1px solid #173152;
  transform:translateX(-100%); transition:transform .25s ease;
  z-index:145; display:flex; flex-direction:column; gap:12px;
  padding:calc(env(safe-area-inset-top,0px) + 14px) 14px 18px;
}
.sidebar.show{transform:translateX(0)}
.menu-item{
  display:block; width:100%; padding:12px 14px; border-radius:14px;
  background:#213247; color:#e8f2ff; font-weight:800; text-decoration:none; border:1px solid #2a3f5e
}
.menu-logout{background:#2a3b54; color:#ffd9d9}

/* ===== Dashboard specific styles ===== */
.dashboard-title{
  color:#ff8c42; font-size:28px; font-weight:900; text-align:left; margin:0 0 20px;
  background: linear-gradient(135deg, #ff8c42, #ffa726);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: titleGlow 3s ease-in-out infinite alternate;
  text-shadow: 0 0 20px rgba(255, 140, 66, 0.3);
  position: relative;
}

@keyframes titleGlow {
  0% { filter: brightness(1) drop-shadow(0 0 5px rgba(255, 140, 66, 0.3)); }
  100% { filter: brightness(1.2) drop-shadow(0 0 15px rgba(255, 140, 66, 0.6)); }
}

.stats-grid{
  display:grid; grid-template-columns:1fr; gap:16px; margin-bottom:24px;
}

.stat-card{
  background:linear-gradient(135deg,var(--card),var(--card2));
  border:1px solid var(--line); border-radius:20px; padding:20px;
  position:relative; overflow:hidden;
  backdrop-filter: blur(15px);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  animation: cardSlideIn 0.8s ease-out;
  transform-style: preserve-3d;
  box-shadow: 
    0 15px 35px rgba(0,0,0,.4),
    0 5px 15px rgba(0,0,0,.2),
    inset 0 1px 0 rgba(255,255,255,.1);
}

@keyframes cardSlideIn {
  0% {
    opacity: 0;
    transform: translateY(30px) rotateX(15deg) scale(0.9);
  }
  100% {
    opacity: 1;
    transform: translateY(0) rotateX(0deg) scale(1);
  }
}

.stat-card:hover {
  transform: translateY(-8px) rotateX(5deg) scale(1.02);
  box-shadow: 
    0 25px 50px rgba(0,0,0,.5),
    0 10px 25px rgba(45, 212, 191, 0.2),
    inset 0 1px 0 rgba(255,255,255,.2);
  border-color: rgba(45, 212, 191, 0.4);
}

.stat-card::before{
  content:''; position:absolute; top:0; right:0; width:80px; height:80px;
  background:linear-gradient(45deg,rgba(45,212,191,0.15),rgba(45,212,191,0.05));
  border-radius:0 20px 0 80px;
  animation: cornerGlow 4s ease-in-out infinite;
}

@keyframes cornerGlow {
  0%, 100% { opacity: 0.6; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.1); }
}

.stat-card::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(45, 212, 191, 0.1), transparent);
  animation: shimmer 3s infinite;
  pointer-events: none;
}

@keyframes shimmer {
  0% { left: -100%; }
  100% { left: 100%; }
}

.stat-header{display:flex; align-items:center; gap:10px; margin-bottom:12px; position:relative; z-index:2}
.stat-icon{
  width:28px; height:28px; color:var(--accent);
  filter: drop-shadow(0 2px 4px rgba(45, 212, 191, 0.3));
  animation: iconPulse 2s ease-in-out infinite;
}

@keyframes iconPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

.stat-label{font-size:13px; color:var(--muted); font-weight:700; position:relative; z-index:2}
.stat-value{
  font-size:20px; font-weight:900; color:var(--text); margin:8px 0;
  position:relative; z-index:2;
  text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}
.stat-change{font-size:12px; font-weight:700; position:relative; z-index:2}
.stat-change.positive{color:#34c759; text-shadow: 0 0 10px rgba(52, 199, 89, 0.3)}
.stat-change.negative{color:#ff4d4f; text-shadow: 0 0 10px rgba(255, 77, 79, 0.3)}

.profit-card{
  grid-column:1/-1; 
  background:linear-gradient(135deg,#0d2749,#1a365d,#2a5a7a);
  border:2px solid #2a5a7a; border-radius:24px; padding:24px; margin-bottom:24px;
  position:relative; overflow:hidden;
  backdrop-filter: blur(20px);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  animation: profitCardFloat 0.8s ease-out;
  transform-style: preserve-3d;
  box-shadow: 
    0 20px 40px rgba(0,0,0,.6),
    0 8px 20px rgba(45, 212, 191, 0.2),
    inset 0 2px 0 rgba(255,255,255,.1);
}

@keyframes profitCardFloat {
  0% {
    opacity: 0;
    transform: translateY(40px) rotateX(20deg) scale(0.8);
  }
  100% {
    opacity: 1;
    transform: translateY(0) rotateX(0deg) scale(1);
  }
}

.profit-card:hover {
  transform: translateY(-10px) rotateX(8deg) scale(1.02);
  box-shadow: 
    0 30px 60px rgba(0,0,0,.7),
    0 15px 30px rgba(45, 212, 191, 0.3),
    inset 0 2px 0 rgba(255,255,255,.2);
  border-color: rgba(45, 212, 191, 0.6);
}

.profit-card::before{
  content:''; position:absolute; top:-30px; right:-30px; width:150px; height:150px;
  background:radial-gradient(circle,rgba(45,212,191,0.2),rgba(45,212,191,0.05),transparent);
  animation: profitGlow 6s ease-in-out infinite;
}

@keyframes profitGlow {
  0%, 100% { 
    opacity: 0.6; 
    transform: scale(1) rotate(0deg); 
  }
  50% { 
    opacity: 1; 
    transform: scale(1.2) rotate(180deg); 
  }
}

.profit-header{text-align:center; margin-bottom:20px; position:relative; z-index:2}
.profit-title{
  font-size:16px; color:#9aa3ab; margin-bottom:12px; font-weight:600;
  text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}
.profit-amount{
  font-size:42px; font-weight:900; color:#2dd4bf; 
  display:flex; align-items:center; justify-content:center; gap:12px;
  text-shadow: 0 4px 8px rgba(45, 212, 191, 0.4);
  animation: profitPulse 3s ease-in-out infinite;
}

@keyframes profitPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

.profit-chart{
  width:140px; height:70px; margin:0 auto;
  filter: drop-shadow(0 4px 8px rgba(45, 212, 191, 0.3));
  animation: chartFloat 4s ease-in-out infinite;
}

@keyframes chartFloat {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-5px); }
}

.summary-section{margin-bottom:24px; position:relative; z-index:1}
.section-title{
  font-size:18px; font-weight:900; margin-bottom:16px; color:var(--text);
  text-shadow: 0 2px 4px rgba(0,0,0,0.3);
  position:relative;
}

.section-title::after {
  content: '';
  position: absolute;
  bottom: -4px;
  left: 0;
  width: 40px;
  height: 3px;
  background: linear-gradient(90deg, var(--accent), transparent);
  border-radius: 2px;
}

.summary-grid{display:grid; grid-template-columns:1fr 1fr; gap:12px}
.summary-item{
  background:linear-gradient(135deg,var(--card),var(--card2)); 
  border:1px solid var(--line); border-radius:16px;
  padding:16px 12px; text-align:center;
  position:relative; overflow:hidden;
  backdrop-filter: blur(10px);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  animation: summarySlideIn 0.6s ease-out;
  transform-style: preserve-3d;
  box-shadow: 0 8px 20px rgba(0,0,0,.3);
}

@keyframes summarySlideIn {
  0% {
    opacity: 0;
    transform: translateY(20px) rotateX(10deg);
  }
  100% {
    opacity: 1;
    transform: translateY(0) rotateX(0deg);
  }
}

.summary-item:hover {
  transform: translateY(-4px) rotateX(3deg) scale(1.05);
  box-shadow: 0 15px 30px rgba(0,0,0,.4);
  border-color: rgba(45, 212, 191, 0.3);
}

.summary-item::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--accent), var(--brand));
  opacity: 0;
  transition: opacity 0.3s ease;
}

.summary-item:hover::before {
  opacity: 1;
}

.summary-label{font-size:11px; color:var(--muted); margin-bottom:6px; font-weight:600}
.summary-value{
  font-size:18px; font-weight:900; color:var(--text);
  text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}
.summary-ratio{font-size:12px; margin-top:4px; font-weight:700}
.summary-ratio.win{color:#34c759; text-shadow: 0 0 8px rgba(52, 199, 89, 0.3)}
.summary-ratio.lose{color:#ff4d4f; text-shadow: 0 0 8px rgba(255, 77, 79, 0.3)}

@media (max-width:420px){
  .balance-label{display:none}
  .balance-value{font-size:13px}
  .header-user-info{gap:8px}
  .dashboard-title{font-size:24px}
  .stat-value{font-size:16px}
  .profit-amount{font-size:30px}
}

/* Desktop */
@media (min-width:768px){
}
</style>
</head>
<body>

<!-- ===== HEADER ===== -->
<header class="main-header">
  <button class="icon-btn" id="btn-menu" aria-label="Mở menu" aria-controls="sidebar" aria-expanded="false">
    <span></span><span></span><span></span>
  </button>
  <div class="header-user-info">
    <div class="balance-item">
      <div>
        <div class="balance-value">$<span id="real-balance">0</span></div>
        <div class="balance-label">TK Thực</div>
      </div>
    </div>
    <div class="balance-item">
      <div>
        <div class="balance-value">$<span id="demo-balance">0</span></div>
        <div class="balance-label">TK Demo</div>
      </div>
    </div>
    <div class="user-profile balance-item">
      <div class="avatar">
        <img src="https://img.favpng.com/17/24/10/computer-icons-user-profile-male-avatar-png-favpng-jhVtWQQbMdbcNCahLZztCF5wk.jpg" alt="Avatar">
      </div>
    </div>
  </div>
</header>

<!-- ===== Sidebar ===== -->
<div id="backdrop" class="backdrop" aria-hidden="true"></div>
<nav class="sidebar" id="sidebar" aria-label="Menu">
  <a href="/" class="menu-item">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" style="margin-right:8px">
      <rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/>
    </svg>
    Bảng Điều Khiển
  </a>
  <a href="/aidudoan" class="menu-item">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" style="margin-right:8px">
      <circle cx="12" cy="12" r="3"/><path d="M12 1v6m0 6v6m11-7h-6m-6 0H1"/>
    </svg>
    AI Dự Đoán
  </a>
  <a href="/top-expert" class="menu-item">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" style="margin-right:8px">
      <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"/>
    </svg>
    Top Chuyên Gia
  </a>
  <a href="/copytrade" class="menu-item">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" style="margin-right:8px">
      <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/>
    </svg>
    Copytrade
  </a>
  <button class="menu-item menu-logout" id="btn-logout">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" style="margin-right:8px">
      <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16,17 21,12 16,7"/><line x1="21" y1="12" x2="9" y2="12"/>
    </svg>
    Đăng xuất
  </button>
</nav>

<!-- ===== PAGE ===== -->
<div class="wrap">
  <div class="dashboard-title">Lịch Sử KLGD & Lợi Nhuận</div>

  <!-- Profit Summary -->
  <div class="profit-card">
    <div class="profit-header">
      <div class="profit-title">Lợi nhuận hôm nay</div>
      <div class="profit-amount">
        <span>+$</span><span id="total-profit">0</span>
        <svg class="profit-chart" viewBox="0 0 120 60">
          <path d="M10,50 Q30,20 50,30 T90,25 T110,15" stroke="#2dd4bf" stroke-width="2" fill="none"/>
          <circle cx="110" cy="15" r="3" fill="#2dd4bf"/>
        </svg>
      </div>
    </div>
  </div>

  <!-- Stats Grid -->
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-header">
        <svg class="stat-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/></svg>
        <span class="stat-label">Khối lượng / Số giao dịch</span>
      </div>
      <div class="stat-value">
        <span id="total-trades">0</span> $ / <span id="trade-count">0</span> lệnh
      </div>
      <div class="stat-change positive">
        T.L Win: <span id="win-rate">0%</span> (<span id="win-count-inline">0</span> win)
      </div>
    </div>
  </div>

  <!-- Summary Section -->
  <div class="summary-section">
    <div class="section-title">Chi tiết giao dịch</div>
    <div class="summary-grid">
      <div class="summary-item">
        <div class="summary-label">Win</div>
        <div class="summary-value" id="win-count">0</div>
        <div class="summary-ratio win" id="win-ratio">0%</div>
      </div>
      <div class="summary-item">
        <div class="summary-label">Lose</div>
        <div class="summary-value" id="lose-count">0</div>
        <div class="summary-ratio lose" id="lose-ratio">0%</div>
      </div>
    </div>
  </div>
</div>

<script>
const params = new URLSearchParams(window.location.search);
const token = localStorage.getItem('token') || params.get('token');
if(!token){ location.replace('/login'); } else { localStorage.setItem('token', token); }

function redirectToLogin(){
  localStorage.removeItem('token'); sessionStorage.clear();
  location.replace('/login');
}
async function authFetch(url,opt={}){
  const r = await fetch(url,opt);
  if(r.status===401){ redirectToLogin(); throw new Error('401'); }
  return r;
}

let currentUserId = null;

async function loadProfile(){
  try{
    const r = await authFetch('/api/user/getProfile',{
      method:'POST',
      headers:{'Authorization':'Bearer '+token}
    });
    const js = await r.json();
    if(js.status && js.data){
      document.getElementById('real-balance').textContent = (js.data.balance||0).toLocaleString();
      document.getElementById('demo-balance').textContent = (js.data.demoBalance||0).toLocaleString();
      currentUserId = js.data.id || js.data.userid;
    }
  }catch(e){ if(e.message!=='401') console.error('Profile error', e); }
}

async function fetchRangeStatistic(unixStart, unixEnd){
  if(!currentUserId) return null;
  try{
    const r = await authFetch('https://fintech3.net/api/binaryOption/dayStatisticsOrderToTime',{
      method:'POST',
      headers:{
        'Content-Type':'application/json',
        'Authorization':'Bearer '+token
      },
      body: JSON.stringify({
        type:'live',
        userid: currentUserId,
        timeStart: String(unixStart),
        timeEnd: String(unixEnd)
      })
    });
    const js = await r.json();
    if(js.status && js.data) return js.data;
  }catch(e){ console.error('fetchRangeStatistic fail', e); }
  return null;
}

function money(n){ 
  const num = Number(n) || 0;
  return num % 1 === 0 ? num.toString() : num.toFixed(2);
}

async function loadStatisticsAllTime(){
  if(!currentUserId) return;
  const start = 1609459200;
  const end   = Math.floor(Date.now()/1000);
  const data  = await fetchRangeStatistic(start, end);
  if(!data) return;

  // Profit
  const after  = parseFloat(data.afterBalance || 0);
  const before = parseFloat(data.beforeBalance || 0);
  const profit = after - before;
  document.getElementById('total-profit').textContent =
    (Number.isFinite(profit) ? money(profit) : '0');

  // ===== Đếm số lệnh theo yêu cầu =====
  const winCount  = parseInt(data.totalWin)  || 0;
  const loseCount = parseInt(data.totalLose) || 0;
  const tradeCount = winCount + loseCount;              // Số giao dịch

  // ===== Khối lượng giao dịch = totalOrder =====
  const tradingAmount = parseFloat(data.totalOrder) || 0;

  // Render: "khối lượng $ / số lệnh"
  document.getElementById('total-trades').textContent = money(tradingAmount);
  document.getElementById('trade-count').textContent  = tradeCount.toString();

  // Tỷ lệ thắng theo số lệnh (không tính draw)
  const denom   = tradeCount;
  const winRate = denom > 0 ? ((winCount / denom) * 100).toFixed(1) : '0';
  const loseRate = denom > 0 ? ((loseCount / denom) * 100).toFixed(1) : '0';

  document.getElementById('win-rate').textContent = winRate + '%';
  document.getElementById('win-count-inline').textContent = winCount;
  document.getElementById('win-count').textContent  = winCount;
  document.getElementById('lose-count').textContent = loseCount;
  document.getElementById('win-ratio').textContent  = winRate + '%';
  document.getElementById('lose-ratio').textContent = loseRate + '%';
}

const body = document.body;
const sidebar = document.getElementById('sidebar');
const backdrop = document.getElementById('backdrop');
const btnMenu  = document.getElementById('btn-menu');

function openMenu(){ sidebar.classList.add('show'); backdrop.classList.add('show'); body.classList.add('noscroll'); }
function closeMenu(){ sidebar.classList.remove('show'); backdrop.classList.remove('show'); body.classList.remove('noscroll'); }
btnMenu.addEventListener('click', openMenu);
backdrop.addEventListener('click', closeMenu);
document.addEventListener('keydown', e=>{ if(e.key==='Escape') closeMenu(); });

document.getElementById('btn-logout').onclick = async ()=>{ try{ await fetch('/api/logout',{method:'POST'});}catch(e){} redirectToLogin(); };

(async function init(){ await loadProfile(); await loadStatisticsAllTime(); setInterval(loadProfile, 30000); })();
</script>
</body>
</html>
